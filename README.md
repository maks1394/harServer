# Быстрая перезапись локальных запросов из HAR файла

Цель данного репозитория - быстро перезаписать локально запросы из HAR файла.


### 1. Инициализация проекта

Выполните команду:
make init

### 2. Подготовка HAR файла

- Поместите необходимый HAR файл в папку harToMocks/currentHar. 
- Название файла может быть любым, но в папке должен находиться **только один файл**.

### 3. Запуск контейнера

Запустите контейнер с помощью команды:
make start

### 4. Настройка Nginx

Откройте файл .docker/nginx.conf и добавьте следующий блок:

****************************************
location /api {
    proxy_pass http://har_server:1394;
}
****************************************

### 5. Перезапуск nginx портала

Если портал не запущен, запустите его. Если он уже запущен, выполните команду в папке .docker:

****************************************
docker-compose restart nginx
****************************************

### 6. Получение Header Props

Для получения Header Props просмотрите логи контейнера har_server и следуйте инструкциям, указанным в логах.

**Важно:** Если в HAR файле отсутствуют запросы к HTML документу, вы получите ошибку:
Error parsing JSON: SyntaxError: Unexpected end of JSON input

### 7. Обновление HAR файла

При обнолвении HAR файла достаточно выполнить команду:

****************************************
make restart
****************************************

### 8. Возврат запросов бэкенда

Чтобы вернуть запросы бэкенда, выполните действия, обратные пункту **4**, а затем снова выполните пункт **5**.

### 9. Хранение различных HAR файлов

Для хранения различных HAR файлов используйте папку harToMocks/cases. Эта папка игнорируется Git и Docker.

## Заключение

Следуя этим шагам, вы сможете быстро перезаписывать локальные запросы из HAR файлов


